(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["oauth"],{3134:function(t,e,n){"use strict";var r,o="undefined"!==typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function a(t){return function(t,e){return i(t,e)}}var s={};function i(t,e){var n=o?e.media||"default":t,a=s[n]||(s[n]={ids:new Set,styles:[]});if(!a.ids.has(t)){a.ids.add(t);var i=e.source;if(e.map&&(i+="\n/*# sourceURL="+e.map.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),a.element||(a.element=document.createElement("style"),a.element.type="text/css",e.media&&a.element.setAttribute("media",e.media),void 0===r&&(r=document.head||document.getElementsByTagName("head")[0]),r.appendChild(a.element)),"styleSheet"in a.element)a.styles.push(i),a.element.styleSheet.cssText=a.styles.filter(Boolean).join("\n");else{var c=a.ids.size-1,u=document.createTextNode(i),l=a.element.childNodes;l[c]&&a.element.removeChild(l[c]),l.length?a.element.insertBefore(u,l[c]):a.element.appendChild(u)}}}var c=a;e.__vue_create_injector__=c},4343:function(t,e,n){"use strict";var r=n("bf15"),o=n.n(r);o.a},"44f2":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"form-field"},[t.label?n("p",{staticClass:"form-field__label"},[t._v("\n    "+t._s(t.label)+"\n  ")]):t._e(),n("div",{staticClass:"form-field__content"},[t._t("default")],2)])},o=[],a={name:"FormField",props:{label:{type:String,default:null}}},s=a,i=(n("b145"),n("2877")),c=Object(i["a"])(s,r,o,!1,null,null,null);e["a"]=c.exports},"638c":function(t,e,n){"use strict";function r(t,e,n,r,o,a,s,i,c,u){"boolean"!==typeof s&&(c=i,i=s,s=!1);var l,p="function"===typeof n?n.options:n;if(t&&t.render&&(p.render=t.render,p.staticRenderFns=t.staticRenderFns,p._compiled=!0,o&&(p.functional=!0)),r&&(p._scopeId=r),a?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(a)},p._ssrRegister=l):e&&(l=s?function(){e.call(this,u(this.$root.$options.shadowRoot))}:function(t){e.call(this,i(t))}),l)if(p.functional){var d=p.render;p.render=function(t,e){return l.call(e),d(t,e)}}else{var m=p.beforeCreate;p.beforeCreate=m?[].concat(m,l):[l]}return n}var o=r;e.__vue_normalize__=o},b145:function(t,e,n){"use strict";var r=n("bc1e"),o=n.n(r);o.a},bc1e:function(t,e,n){},bf15:function(t,e,n){},dcf5:function(t,e,n){"use strict";n.r(e);var r,o,a,s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[t.isLoading?n("v-spinner",{attrs:{"data-test":"endpass-app-loader",label:"Please wait, basic usage is loading..."}}):n("div",{staticClass:"section"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-content"},[t.formView===t.FORM_VIEW.LOGIN?n("div",[n("p",{staticClass:"title"},[t._v('\n            Each request do "request token" for demonstation as example\n          ')]),n("p",{staticClass:"subtitle"},[t._v("\n            Please select action to continue...\n          ")]),n("form-field",[n("button",{staticClass:"button is-primary",attrs:{"data-test":"endpass-oauth-get-accounts-button"},on:{click:t.onGetAccounts}},[t._v("\n              Get Accounts\n            ")])]),n("form-field",[n("button",{staticClass:"button is-primary",attrs:{"data-test":"endpass-oauth-get-email-button"},on:{click:t.onGetEmail}},[t._v("\n              Get Email\n            ")])]),n("form-field",[n("button",{staticClass:"button is-primary",attrs:{"data-test":"endpass-oauth-check-documents"},on:{click:t.onGetDocuments}},[t._v("\n              Get documents\n            ")])]),n("div",[n("p",{staticClass:"title"},[t._v("\n              SignIn OAuth button:\n            ")]),n("div",{staticClass:"columns"},[n("login-card",{staticClass:"column"},[t._v("\n                default style\n              ")]),n("login-card",{staticClass:"column",attrs:{"is-inverted-colors":!0}},[t._v("\n                inverse style\n              ")])],1)])],1):t._e(),t.formView===t.FORM_VIEW.EMAIL?n("email",{attrs:{user:t.user}}):t._e(),t.formView===t.FORM_VIEW.ACCOUNTS?n("accounts",{attrs:{accounts:t.accounts}}):t._e(),t.formView===t.FORM_VIEW.DOCUMENTS?n("documents",{attrs:{documents:t.documents}}):t._e(),t.isFooterVisible?n("oauth-footer",{on:{back:t.onBack,clear:t.onClear}}):t._e()],1)])])],1)},i=[],c=(n("6b54"),n("96cf"),n("3b8d")),u=n("ee2d"),l=n.n(u),p=n("44f2"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("form-field",[n("button",{staticClass:"button",attrs:{"data-test":"endpass-oauth-back-button"},on:{click:t.onBack}},[t._v("\n      Back\n    ")])]),n("form-field",[n("button",{staticClass:"button is-danger",attrs:{"data-test":"endpass-oauth-clear-token-button"},on:{click:t.onClear}},[t._v("\n      Clear Token\n    ")])])],1)},m=[],f={name:"OauthFooter",methods:{onBack:function(){this.$emit("back")},onClear:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$emit("clear");case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},components:{FormField:p["a"]}},h=f,_=n("2877"),v=Object(_["a"])(h,d,m,!1,null,null,null),b=v.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"subtitle"},[t._v("\n    Accounts:\n  ")]),n("div",{staticClass:"content"},t._l(t.accounts,function(e){return n("ul",{key:e,attrs:{"data-test":"endpass-oauth-accounts-list"}},[n("li",{staticClass:"subtitle"},[t._v("\n        "+t._s(e)+"\n      ")])])}),0)])},O=[],C={name:"Accounts",props:{accounts:{type:Array,default:function(){return[]}}}},y=C,E=Object(_["a"])(y,g,O,!1,null,null,null),w=E.exports,A=n("15fd"),P=n("4360"),I=n("d225"),U=n("b0b4"),S=n("308d"),R=n("6bb5"),V=n("4e2b"),N=n("d360"),x=n("8d27"),L=(n("7f7f"),n("b50d")),j=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.prototype.__proto__.constructor.name,r=void 0===n?"DefaultController":n,o=Object(L["a"])(),a=new t({store:o,name:r},e);return a},k=(r=Object(x["b"])({generateMutationSetters:!0}),r((a=function(t){function e(t,n){var r,o=n.connectStore,a=void 0===o?P["a"]:o;return Object(I["a"])(this,e),r=Object(S["a"])(this,Object(R["a"])(e).call(this,t)),r.connectStore=a,r}return Object(V["a"])(e,t),Object(U["a"])(e,[{key:"initConnect",value:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.connectStore.initConnect();case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"loginOauth",value:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.connectStore.connectInstance.loginWithOauth({scopes:e});case 2:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"getAccountData",value:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.loginOauth(["wallet:accounts:read"]);case 2:return t.next=4,this.connectStore.connectInstance.request({method:"GET",url:"".concat({VUE_APP_AUTH_URL:"https://auth.endpass.com",VUE_APP_ENDPASS_API_URL:"https://api.endpass.com/v1",VUE_APP_OAUTH_SERVER:"https://identity.endpass.com/api/v1.1/oauth",VUE_APP_OAUTH_CLIENT_ID:"ee8b2a12-089d-45a2-a224-89eab10fa96d",VUE_APP_IS_PRODUCTION:!0,VUE_APP_IS_E2E_CONNECT:!1,VUE_APP_WITH_SYMLINKS:!1}.VUE_APP_ENDPASS_API_URL,"/accounts")});case 4:return e=t.sent,n=e.data,t.abrupt("return",n);case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"getUser",value:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.loginOauth(["user:email:read"]);case 2:return t.next=4,this.connectStore.connectInstance.request({method:"GET",url:"".concat({VUE_APP_AUTH_URL:"https://auth.endpass.com",VUE_APP_ENDPASS_API_URL:"https://api.endpass.com/v1",VUE_APP_OAUTH_SERVER:"https://identity.endpass.com/api/v1.1/oauth",VUE_APP_OAUTH_CLIENT_ID:"ee8b2a12-089d-45a2-a224-89eab10fa96d",VUE_APP_IS_PRODUCTION:!0,VUE_APP_IS_E2E_CONNECT:!1,VUE_APP_WITH_SYMLINKS:!1}.VUE_APP_ENDPASS_API_URL,"/user")});case 4:return e=t.sent,n=e.data,t.abrupt("return",n);case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"logout",value:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.connectStore.connectInstance.logoutFromOauth();case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"getDocuments",value:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.loginOauth(["documents:status:read","documents:data:read"]);case 2:return t.next=4,this.connectStore.connectInstance.request({method:"GET",url:"".concat({VUE_APP_AUTH_URL:"https://auth.endpass.com",VUE_APP_ENDPASS_API_URL:"https://api.endpass.com/v1",VUE_APP_OAUTH_SERVER:"https://identity.endpass.com/api/v1.1/oauth",VUE_APP_OAUTH_CLIENT_ID:"ee8b2a12-089d-45a2-a224-89eab10fa96d",VUE_APP_IS_PRODUCTION:!0,VUE_APP_IS_E2E_CONNECT:!1,VUE_APP_WITH_SYMLINKS:!1}.VUE_APP_ENDPASS_API_URL,"/documents")});case 4:return e=t.sent,t.abrupt("return",e);case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}]),e}(x["d"]),Object(N["a"])(a.prototype,"initConnect",[x["a"]],Object.getOwnPropertyDescriptor(a.prototype,"initConnect"),a.prototype),Object(N["a"])(a.prototype,"loginOauth",[x["a"]],Object.getOwnPropertyDescriptor(a.prototype,"loginOauth"),a.prototype),Object(N["a"])(a.prototype,"getAccountData",[x["a"]],Object.getOwnPropertyDescriptor(a.prototype,"getAccountData"),a.prototype),Object(N["a"])(a.prototype,"getUser",[x["a"]],Object.getOwnPropertyDescriptor(a.prototype,"getUser"),a.prototype),Object(N["a"])(a.prototype,"logout",[x["a"]],Object.getOwnPropertyDescriptor(a.prototype,"logout"),a.prototype),Object(N["a"])(a.prototype,"getDocuments",[x["a"]],Object.getOwnPropertyDescriptor(a.prototype,"getDocuments"),a.prototype),o=a))||o),D=function(){return j(k)},T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"subtitle"},[t._v("\n    Documents:\n  ")]),n("div",{staticClass:"content"},t._l(t.documents,function(e){return n("ul",{key:e.id,attrs:{"data-test":"endpass-oauth-documents-list"}},[n("li",{staticClass:"subtitle"},[t._v("\n        "+t._s(e.id)+": "+t._s(e.documentType)+"\n      ")])])}),0)])},G=[],B={name:"Documents",props:{documents:{type:Array,default:function(){return[]}}}},$=B,M=Object(_["a"])($,T,G,!1,null,null,null),F=M.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("form-field",{attrs:{label:"Email:","data-test":"endpass-oauth-user-email"}},[t._v("\n    "+t._s(t.user.email)+"\n  ")])],1)},W=[],q={name:"Email",props:{user:{type:Object,default:function(){}}},components:{FormField:p["a"]}},z=q,J=Object(_["a"])(z,H,W,!1,null,null,null),K=J.exports,Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-login-card",class:{"app-card-inverted":t.isInvertedColors}},[n("div",[n("p",{staticClass:"subtitle"},[t._t("default")],2),n("button",{staticClass:"button",class:{"is-primary":!t.isInvertedColors},attrs:{"data-test":"button-mount"},on:{click:t.toggleButton}},[t._v("\n      "+t._s(t.mountLabel)+"\n    ")]),n("div",{staticClass:"button-root",attrs:{id:t.elementId,"data-test":"login-element"}}),n("div",{staticClass:"login-message",attrs:{"data-test":"login-message"}},[t._v("\n      "+t._s(t.message)+"\n    ")])])])},X=[],Q={name:"LoginCard",props:{isInvertedColors:{type:Boolean,default:!1}},data:function(){return{loginButton:null,message:null}},computed:{elementId:function(){return this.isInvertedColors?"button-root-inverted":"button-root"},isMounted:function(){return!!this.loginButton},mountLabel:function(){return this.isMounted?"Unmount":"Mount"}},methods:{toggleButton:function(){if(this.loginButton)return this.loginButton.unmount(),this.loginButton=null,void(this.message=null);this.loginButton=this.createButton(),this.loginButton.mount()},createButton:function(){var t=this;return P["a"].createLoginButton({element:"#".concat(this.elementId),isLight:this.isInvertedColors,onLogin:function(e,n){t.message=e?e.message:n.email}})}},mounted:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,P["a"].initConnect();case 2:this.toggleButton();case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},Z=Q,tt=(n("4343"),Object(_["a"])(Z,Y,X,!1,null,null,null)),et=tt.exports,nt={LOADING:"LOADING",LOGIN:"LOGIN",ACCOUNTS:"ACCOUNTS",EMAIL:"EMAIL",DOCUMENTS:"DOCUMENTS"},rt={name:"Oauth",oauthController:D(),errorNotify:new A["a"],data:function(){return{FORM_VIEW:nt,formView:nt.LOGIN,accounts:[],documents:[],user:{}}},computed:{isFooterVisible:function(){return this.formView!==nt.LOADING&&this.formView!==nt.LOGIN},isLoading:function(){return this.formView===nt.LOADING}},methods:{onBack:function(){this.formView=nt.LOGIN},onGetEmail:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.formView=nt.LOADING,t.next=4,this.$options.oauthController.getUser();case 4:this.user=t.sent,this.formView=nt.EMAIL,t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),this.formView=nt.LOGIN,this.$options.errorNotify.showError({title:"Get email error",text:t.t0.toString()});case 12:case"end":return t.stop()}},t,this,[[0,8]])}));function e(){return t.apply(this,arguments)}return e}(),onGetAccounts:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.formView=nt.LOADING,t.next=4,this.$options.oauthController.getAccountData();case 4:this.accounts=t.sent,this.formView=nt.ACCOUNTS,t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),this.formView=nt.LOGIN,this.$options.errorNotify.showError({title:"Get accounts error",text:t.t0.toString()});case 12:case"end":return t.stop()}},t,this,[[0,8]])}));function e(){return t.apply(this,arguments)}return e}(),onClear:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.formView=nt.LOADING,t.next=3,this.$options.oauthController.logout();case 3:this.formView=nt.LOGIN;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),onGetDocuments:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.formView=nt.LOADING,t.next=4,this.$options.oauthController.getDocuments();case 4:e=t.sent,n=e.data,this.documents=n,this.formView=nt.DOCUMENTS,t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),this.formView=nt.LOGIN,this.$options.errorNotify.showError({title:"Get documents error",text:t.t0.toString()});case 14:case"end":return t.stop()}},t,this,[[0,10]])}));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,P["a"].initConnect();case 2:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}(),components:{LoginCard:et,Email:K,Documents:F,Accounts:w,OauthFooter:b,FormField:p["a"],VSpinner:l.a}},ot=rt,at=Object(_["a"])(ot,s,i,!1,null,null,null),st=at.exports;n.d(e,"default",function(){return st})},ee2d:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("638c"),o=n("3134"),a={name:"VSpinner",props:{label:{type:String,default:""},isLabelUnderSpinner:{type:Boolean,default:!1}}};const s=a;var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-spinner is-overlay",class:{"label-under-spinner":t.isLabelUnderSpinner}},[n("div",{staticClass:"spinner loader"}),t._v(" "),t.label?n("p",{staticClass:"spinner-label"},[t._v("\n    "+t._s(t.label)+"\n  ")]):t._e()])},c=[];const u=function(t){t&&t("data-v-45b9b39e_0",{source:".v-spinner{background-color:rgba(10,10,10,.66);display:flex;justify-content:center;align-items:center;pointer-events:none}.v-spinner.is-transparent{background-color:transparent}.v-spinner.label-under-spinner{flex-direction:column}.v-spinner .spinner{display:flex;align-self:center}.v-spinner .spinner-label{color:#fff;margin-left:.5em;align-self:center}.v-spinner.is-large .loader{height:2em;width:2em}.is-overlay{position:absolute;top:0;right:0;bottom:0;left:0;z-index:40;width:100%;height:100%}.has-spinner{position:relative}",map:void 0,media:void 0})},l=void 0,p=void 0,d=!1;var m=r.__vue_normalize__({render:i,staticRenderFns:c},u,s,l,d,p,o.__vue_create_injector__,void 0);e.default=m}}]);